@using Models
@using System.Globalization;
@model SessionResponse;

<div class="card">

    <div class="card-header input-group mb-0 d-flex flex-row r" id="heading-@Model.ID">

            <button class="r flex-grow-1 btn btn-link collapsed text-left" data-toggle="collapse" data-target="#collapse-@Model.ID" aria-expanded="false" aria-controls="collapse-@Model.ID">
                @Model.Start_Hour.ToString(@"HH\:mm", CultureInfo.InvariantCulture) - @Model.End_Hour.ToString(@"HH\:mm", CultureInfo.InvariantCulture) : @Model.Name
            </button>

            <div class="r input-group-append">
                <button class=" btn btn-outline-secondary">
                    <i class="oi oi-plus"></i>
                </button>
            </div>


    </div>


    <div id="collapse-@Model.ID" class="collapse" aria-labelledby="heading-@Model.ID" data-parent="#accordion">
        <div class="card-body p-1">
            @if (Model.Chairs != null && Model.Chairs.Any())
            {
                <div class="Chair">

                    <b>Chairs: </b>

                    @for (int i = 0; i < Model.Chairs.Count(); i++)
                    {
                        <a>@Model.Chairs.ElementAt(i).First_Name @Model.Chairs.ElementAt(i).Last_Name</a>

                        @if (Model.Chairs.Count() > 1 && i == (Model.Chairs.Count() - 2))
                        {
                            @:and
                        }


                        @if (Model.Chairs.Count() > 1 && i < (Model.Chairs.Count() - 2))
                        {
                            @:,
                        }


                    }

                </div>
            }

            @if (Model.Talks != null && Model.Talks.Any())
            {
                <div class="Talks">

                    <div class="card">
                        <div class="d-flex flex-column ro" >
                            @foreach (var talk in Model.Talks)
                            {
                                <partial name="Talk/_Talk_Card" model="talk" />
                            }
                        
                        </div>

                    </div>
                </div>
            }

            <div class="Location">
                <b>Location: </b>
                <span>@Model.Location.Name - @Model.Location.Details</span>
            </div>

        </div>
    </div>

</div>
